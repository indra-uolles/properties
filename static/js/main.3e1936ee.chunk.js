(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{148:function(e,t,a){e.exports=a(345)},153:function(e,t,a){},305:function(e,t,a){},336:function(e,t,a){},338:function(e,t,a){},341:function(e,t,a){},343:function(e,t,a){},345:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(6),o=a.n(i),s=(a(153),a(19)),c=a(20),l=a(27),m=a(26),u=a(28),p=a(347),f=a(346);function d(e){return r.a.createElement("div",null,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")}var h=a(29),b=a(138),v=a.n(b),g=a(62),O=a.n(g),y=a(96),j=a.n(y),E=a(139),w={buy:[{id:"1",area:67,address:"\u0433. \u041c\u043e\u0441\u043a\u0432\u0430, \u0421\u0410\u041e, \u0440\u0430\u0439\u043e\u043d \u0425\u043e\u0432\u0440\u0438\u043d\u043e, \u0443\u043b. \u0414\u044b\u0431\u0435\u043d\u043a\u043e, 7",material:"\u043c\u043e\u043d\u043e\u043b\u0438\u0442\u043d\u044b\u0439",floor:"6 \u0438\u0437 30",rooms:2,price:154590,mortgage:!1,instalments:!1},{id:"2",area:61,address:"\u0433. \u041f\u043e\u0434\u043e\u043b\u044c\u0441\u043a, \u0443\u043b. \u0421\u0430\u0434\u043e\u0432\u0430\u044f, \u0434. 14",material:"\u043c\u043e\u043d\u043e\u043b\u0438\u0442\u043d\u044b\u0439",floor:"6 \u0438\u0437 17",rooms:3,price:2147546,mortgage:!0,instalments:!1}],rent:[{id:"3",area:80,address:"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u043e\u0435 \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u0435 \u041d\u043e\u0433\u0438\u043d\u0441\u043a, \u041d\u043e\u0433\u0438\u043d\u0441\u043a, \u043f\u043e\u0441\u0451\u043b\u043e\u043a \u0418\u043b\u044c\u0438\u0447\u0430",material:"\u043a\u0438\u0440\u043f\u0438\u0447\u043d\u044b\u0439",floor:"1 \u0438\u0437 17",rooms:4,price:4e4},{id:"5",area:30,address:"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u043e\u0439 \u043e\u043a\u0440\u0443\u0433 \u0417\u0432\u0435\u043d\u0438\u0433\u043e\u0440\u043e\u0434",material:"\u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u044b\u0439",floor:"1 \u0438\u0437 1",rooms:1,price:1e4}],new:[{id:"6",area:28,address:"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0433\u043e\u0440\u043e\u0434 \u0412\u0438\u0434\u043d\u043e\u0435, \u0443\u043b\u0438\u0446\u0430 \u0424\u0430\u0431\u0440\u0438\u0447\u043d\u0430\u044f",material:"\u043a\u0438\u0440\u043f\u0438\u0447\u043d\u044b\u0439",floor:"2 \u0438\u0437 17",rooms:1,price:4e6,mortgage:!0,instalments:!0},{id:"7",area:44,address:"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0433\u043e\u0440\u043e\u0434 \u041a\u043e\u0440\u043e\u043b\u0451\u0432",material:"\u043f\u0430\u043d\u0435\u043b\u044c\u043d\u044b\u0439",floor:"12 \u0438\u0437 12",rooms:2,price:1e6,mortgage:!0,instalments:!1}]};var S=function(e){var t,a,n=e.property,r=w[n],i=[];e.priceRange&&i.push((t=e.priceRange,function(e){return e.price>=t.min&&e.price<=t.max})),e.rooms&&e.rooms.length>0&&i.push((a=e.rooms,function(e){return a.includes(e.rooms)})),e.mortgage&&i.push(function(e){return e.mortgage}),e.instalments&&i.push(function(e){return e.instalments});var o,s,c=r.filter(function(e){for(var t=0;t<i.length;++t)if(!i[t](e))return!1;return!0});return o=500,s=c,new Promise(function(e){setTimeout(function(){return e(s)},o)})},_=new(function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"getProperties",value:function(){var e=Object(E.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}()),N=a(56),x=a(145),k=(a(303),a(305),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state=Object(h.a)({},a.props.formData,{minStart:a.props.formData.min,maxStart:a.props.formData.max}),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this,a=this.state,n=a.min,i=a.max,o=a.minStart,s=a.maxStart,c=(e={},Object(N.a)(e,o,o.toLocaleString("ru-RU")),Object(N.a)(e,s,s.toLocaleString("ru-RU")),e);return r.a.createElement("div",{className:"price-range-wrap"},r.a.createElement("div",{className:"price-range"},r.a.createElement("div",{className:"properties-form__price"},n.toLocaleString("ru-RU")," \u2014 ",i.toLocaleString("ru-RU")),r.a.createElement(x.a,{min:o,max:s,defaultValue:[o,s],onAfterChange:function(e){t.setState({min:e[0],max:e[1]},function(){return t.props.onChange(t.state)})},marks:c})))}}]),t}(r.a.Component)),R=a(143),C=(a(334),[{label:"\u0421\u0442\u0443\u0434\u0438\u044f",value:0},{label:"1-\u043a\u043e\u043c\u043d.",value:1},{label:"2-\u043a\u043e\u043c\u043d.",value:2},{label:"3-\u043a\u043e\u043c\u043d.",value:3},{label:"4-\u043a\u043e\u043c\u043d.",value:4},{label:"5-\u043a\u043e\u043c\u043d.",value:5},{label:"6-\u043a\u043e\u043c\u043d.",value:6}]),P={priceRange:k,rooms:function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state=Object(h.a)({},a.props.formData),a.handleChange=function(e){var t=a.deriveStateFromSelectedOptions(e),n=Object.keys(t).map(function(e){return t[e]});a.setState(Object(h.a)({},t),a.props.onChange(n))},a.deriveStateFromSelectedOptions=function(e){var t=e.map(function(e){return e.value}),a={};return t.forEach(function(e,t){a[t.toString()]=e}),a},a.deriveOptionsFromState=function(){var e=Object.keys(a.state).map(function(e){return a.state[e]});return C.filter(function(t){return e.includes(t.value)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.MultiSelect,{placeholder:"\u041a-\u0432\u043e \u043a\u043e\u043c\u043d\u0430\u0442",options:C.map(function(e){return{label:e.label,value:e.value}}),defaultValues:this.deriveOptionsFromState(),onValuesChange:this.handleChange}))}}]),t}(r.a.Component)},D={title:"",type:"object",properties:{property:{type:"string",title:"\u0427\u0442\u043e \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435?",enum:["buy","rent","new"],enumNames:["\u041f\u0440\u043e\u0434\u0430\u0436\u0430","\u0410\u0440\u0435\u043d\u0434\u0430","\u041d\u043e\u0432\u043e\u0441\u0442\u0440\u043e\u0439\u043a\u0430"]},rooms:{type:"array",items:{type:"number",enum:[0,1,2,3,4,5,6],enumNames:["\u0421\u0442\u0443\u0434\u0438\u044f","1-\u043a\u043e\u043c\u043d\u0430\u0442\u043d\u0430\u044f \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0430","2-\u043a\u043e\u043c\u043d\u0430\u0442\u043d\u0430\u044f \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0430","3-\u043a\u043e\u043c\u043d\u0430\u0442\u043d\u0430\u044f \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0430","4-\u043a\u043e\u043c\u043d\u0430\u0442\u043d\u0430\u044f \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0430","5-\u043a\u043e\u043c\u043d\u0430\u0442\u043d\u0430\u044f \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0430","6-\u043a\u043e\u043c\u043d\u0430\u0442\u043d\u0430\u044f \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"]}},priceRange:{type:"object",required:["min","max"],properties:{min:{type:"number"},max:{type:"number"}}},mortgage:{type:"boolean",title:"\u0418\u043f\u043e\u0442\u0435\u043a\u0430"},instalments:{type:"boolean",title:"\u0420\u0430\u0441\u0441\u0440\u043e\u0447\u043a\u0430"}}},A={"ui:order":["property","rooms","priceRange","mortgage","instalments"],rooms:{"ui:field":"rooms",classNames:"col-md-6 col-sm-12"},priceRange:{"ui:field":"priceRange",classNames:"col-md-6 col-sm-12 properties-form__price-range"},property:{"ui:widget":"radio","ui:options":{inline:!0},classNames:"hidden-form-field"},mortgage:{condition:"property=buy||property=new",classNames:"col-md-2 mortgage App-clearfix"},instalments:{condition:"property=buy||property=new",classNames:"col-md-2 instalments"}},F=a(146),T=a(10);function U(e,t,a,n,r){var i,o,s,c=Object(T.pickBy)(n,function(e){return e.hasOwnProperty("condition")});return Object(T.isEmpty)(c)?{schema:a,uiSchema:n,formData:r}:(i=Object(T.assign)({},a),o=Object(T.assign)({},n),s=Object(T.assign)({},r),Object(T.each)(c,function(t,a){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[],a=!1,n=!1;-1!==e.indexOf("||")?(t=e.split("||"),a=!1,n=!1):-1!==e.indexOf("&&")?(t=e.split("&&"),a=!0,n=!0):(t=[e],a=!0,n=!0);return{rules:t,allHaveToMatch:a,visible:n}}(t.condition),r=n.rules,o=n.allHaveToMatch,c=[];Object(T.each)(r,function(e){var t=function(e){var t,a=[];-1!==e.indexOf("!=")?(a=e.split("!="),t=!0):-1!==e.indexOf("=")&&(a=e.split("="),t=!1);if(2!==a.length)return!1;var n=a,r=Object(F.a)(n,2),i=r[0],o=r[1];return o=o.split(","),{field:i,values:o,invert:t}}(e),a=t.field,n=t.values,r=t.invert,i=r,o=n.map(function(e){return"true"===e?e=!0:"false"===e&&(e=!1),e});if(a&&s.hasOwnProperty(a)){var l=Object(T.isArray)(s[a])?s[a]:[s[a]];Object(T.each)(o,function(e){i=r?i&&-1===Object(T.indexOf)(l,e):i||-1!==Object(T.indexOf)(l,e)})}c.push(i)});var l=!1;c.length&&(l=o?Object(T.every)(c,Boolean):Object(T.some)(c,Boolean)),l?i.properties[a]=e.properties[a]:(i.properties=Object(T.omit)(i.properties,[a]),s=Object(T.omit)(s,[a]))}),o["ui:order"]=Object(T.intersection)(t["ui:order"],Object(T.keys)(i.properties)),e.hasOwnProperty("required")&&(i.required=Object(T.intersection)(e.required,Object(T.keys)(i.properties))),{schema:i,uiSchema:o,formData:s})}a(336);var B=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).getRooms=function(e){return 0==e?"\u0421\u0442\u0443\u0434\u0438\u044f":"".concat(e,"-\u043a\u043e\u043c\u043d\u0430\u0442\u043d\u0430\u044f \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0430")},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.area,a=e.rooms,n=e.price,i=e.address,o=e.material,s=e.floor,c=e.mortgage,l=e.instalments;return r.a.createElement("article",{className:"apartments-list-item"},r.a.createElement("div",{className:"apartments-list-item__image-wrap"},r.a.createElement("img",{className:"apartments-list-item__image",src:"//media.ongrad.ru/api/images/2kk_61_90.jpg"})),r.a.createElement("div",{className:"apartments-list-item__content"},r.a.createElement("h2",null,r.a.createElement("a",{className:"apartments-list-item__name",href:"#",target:"_blank"},this.getRooms(a),", ",t," \u043c",r.a.createElement("sup",null,"2"))),r.a.createElement("p",{className:"apartments-list-item__address"},i),r.a.createElement("div",{className:"apartments-list-item__price"},n.toLocaleString("ru-RU")," \u0440\u0443\u0431."),r.a.createElement("ul",{className:"apartments-list-item__details"},r.a.createElement("li",{className:"apartments-list-item__details-option"},r.a.createElement("span",null,"\u0414\u043e\u043c: ",o)),r.a.createElement("li",{className:"apartments-list-item__details-option"},r.a.createElement("span",null,"\u042d\u0442\u0430\u0436: ",s)),c&&r.a.createElement("li",{className:"apartments-list-item__details-option"},r.a.createElement("span",{className:"font-weight-bold"},"\u0418\u043f\u043e\u0442\u0435\u043a\u0430")),l&&r.a.createElement("li",{className:"apartments-list-item__details-option"},r.a.createElement("span",{className:"font-weight-bold"},"\u0420\u0430\u0441\u0441\u0440\u043e\u0447\u043a\u0430")))))}}]),t}(r.a.Component),L=(a(338),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).fetchProperties=function(e){a.getPropertiesPromise=O.a.resolve(_.getProperties(e)).catch(console.error.bind(console,"Failed to load properties")).then(function(e){a.setState({properties:e})})},a.onSubmit=function(e){var t=e.formData;a.fetchProperties(Object(h.a)({},t))},a.state=Object(h.a)({},e.initialState,{properties:[]}),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e={property:this.props.intentType};this.fetchProperties(e)}},{key:"componentWillUnmount",value:function(){this.getPropertiesPromise&&this.getPropertiesPromise.cancel()}},{key:"handleChange",value:function(e){var t=Object(h.a)({},this.state.schema),a=Object(h.a)({},this.state.uiSchema),n=e.formData,r=U(D,A,t,a,n);this.setState(r)}},{key:"render",value:function(){var e=this.state.properties;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"properties-form"},r.a.createElement(v.a,{schema:this.state.schema,uiSchema:this.state.uiSchema,fields:P,formData:this.state.formData,onChange:this.handleChange.bind(this),onSubmit:this.onSubmit},r.a.createElement("button",{type:"submit",className:"btn btn-info properties-form__submit"},"\u041f\u043e\u0434\u043e\u0431\u0440\u0430\u0442\u044c"))),r.a.createElement("div",{className:"properties"},e.map(function(e){return r.a.createElement(B,Object.assign({},e,{key:e.id}))})))}}]),t}(n.Component)),q=U(D,A,D,A,{property:"buy",priceRange:{min:1e5,max:1e7},rooms:[2,3]});function M(e){return r.a.createElement(L,{initialState:q,intentType:"buy"})}var V=U(D,A,D,A,{property:"rent",priceRange:{min:5e3,max:9e4},rooms:[1]});function W(e){return r.a.createElement(L,{initialState:V,intentType:"rent"})}var H=U(D,A,D,A,{property:"new",priceRange:{min:1e5,max:1e7},rooms:[1,2]});function J(e){return r.a.createElement(L,{initialState:H,intentType:"new"})}var I=a(348),$=[{url:"",text:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"},{url:"buy",text:"\u041a\u0443\u043f\u0438\u0442\u044c"},{url:"rent",text:"\u0421\u043d\u044f\u0442\u044c"},{url:"new",text:"\u041d\u043e\u0432\u043e\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}],z=function(e){var t=e.item;return r.a.createElement(I.a,{exact:!0,to:"/".concat(t.url),activeClassName:"active"},t.text)};function G(){return r.a.createElement("nav",null,r.a.createElement("ul",{className:"main-menu"},$.map(function(e,t){return r.a.createElement("li",{className:"main-menu__item",key:t},r.a.createElement(z,{item:e}))})))}a(341),a(343);var K=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(G,null)),r.a.createElement("div",null,r.a.createElement(f.a,{exact:!0,path:"/",component:d}),r.a.createElement(f.a,{exact:!0,path:"/buy",component:M}),r.a.createElement(f.a,{exact:!0,path:"/rent",component:W}),r.a.createElement(f.a,{exact:!0,path:"/new",component:J}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));O.a.config({cancellation:!0}),o.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[148,2,1]]]);
//# sourceMappingURL=main.3e1936ee.chunk.js.map